aag 503 8 26 1 469
2
4
6
8
10
12
14
16
18 257
20 93
22 99
24 105
26 111
28 301
30 313
32 325
34 337
36 381
38 419
40 455
42 475
44 513
46 551
48 587
50 607
52 645
54 683
56 719
58 739
60 777
62 815
64 851
66 871
68 927
1007
70 2 29
72 4 31
74 6 33
76 8 35
78 71 72
80 71 79
82 74 80
84 80 83
86 76 84
88 19 70
90 18 20
92 89 91
94 19 78
96 18 22
98 95 97
100 19 82
102 18 24
104 101 103
106 19 86
108 18 26
110 107 109
112 2 93
114 4 99
116 6 105
118 8 111
120 36 39
122 41 43
124 120 122
126 37 39
128 41 42
130 126 128
132 125 131
134 112 133
136 44 47
138 49 51
140 136 138
142 45 47
144 49 50
146 142 144
148 141 147
150 114 149
152 52 55
154 57 59
156 152 154
158 53 55
160 57 58
162 158 160
164 157 163
166 116 165
168 60 63
170 65 67
172 168 170
174 61 63
176 65 66
178 174 176
180 173 179
182 118 181
184 135 151
186 167 183
188 184 186
190 37 38
192 40 43
194 190 192
196 40 42
198 120 196
200 195 199
202 112 201
204 45 46
206 48 51
208 204 206
210 48 50
212 136 210
214 209 213
216 114 215
218 53 54
220 56 59
222 218 220
224 56 58
226 152 224
228 223 227
230 116 229
232 61 62
234 64 67
236 232 234
238 64 66
240 168 238
242 237 241
244 118 243
246 203 217
248 231 245
250 246 248
252 18 250
254 188 252
256 188 255
258 29 30
260 29 259
262 32 260
264 260 263
266 34 264
268 126 196
270 112 268
272 142 210
274 114 272
276 158 224
278 116 276
280 174 238
282 118 280
284 271 275
286 279 283
288 284 286
290 120 192
292 112 290
294 28 289
296 28 295
298 293 296
300 293 299
302 136 206
304 114 302
306 258 289
308 30 307
310 305 308
312 305 311
314 152 220
316 116 314
318 262 289
320 32 319
322 317 320
324 317 323
326 168 234
328 118 326
330 266 289
332 34 331
334 329 332
336 329 335
338 29 31
340 33 35
342 338 340
344 39 127
346 40 126
348 41 345
350 347 349
352 11 36
354 36 353
356 38 355
358 10 37
360 39 358
362 191 361
364 40 356
366 41 363
368 365 367
370 42 351
372 43 369
374 371 373
376 112 375
378 36 113
380 377 379
382 36 342
384 39 382
386 191 385
388 40 120
390 41 387
392 389 391
394 38 357
396 37 69
398 38 396
400 121 399
402 40 395
404 41 401
406 403 405
408 42 393
410 43 407
412 409 411
414 112 413
416 38 113
418 415 417
420 36 343
422 36 38
424 39 420
426 423 425
428 39 40
430 41 427
432 429 431
434 37 68
436 37 435
438 38 437
440 41 438
442 403 441
444 42 433
446 43 443
448 445 447
450 112 449
452 40 113
454 451 453
456 40 429
458 10 36
460 38 458
462 40 460
464 42 457
466 43 462
468 465 467
470 112 469
472 42 113
474 471 473
476 47 143
478 48 142
480 49 477
482 479 481
484 13 44
486 44 485
488 46 487
490 12 45
492 47 490
494 205 493
496 48 488
498 49 495
500 497 499
502 50 483
504 51 501
506 503 505
508 114 507
510 44 115
512 509 511
514 44 342
516 47 514
518 205 517
520 48 136
522 49 519
524 521 523
526 46 489
528 45 69
530 46 528
532 137 531
534 48 527
536 49 533
538 535 537
540 50 525
542 51 539
544 541 543
546 114 545
548 46 115
550 547 549
552 44 343
554 44 46
556 47 552
558 555 557
560 47 48
562 49 559
564 561 563
566 45 68
568 45 567
570 46 569
572 49 570
574 535 573
576 50 565
578 51 575
580 577 579
582 114 581
584 48 115
586 583 585
588 48 561
590 12 44
592 46 590
594 48 592
596 50 589
598 51 594
600 597 599
602 114 601
604 50 115
606 603 605
608 55 159
610 56 158
612 57 609
614 611 613
616 15 52
618 52 617
620 54 619
622 14 53
624 55 622
626 219 625
628 56 620
630 57 627
632 629 631
634 58 615
636 59 633
638 635 637
640 116 639
642 52 117
644 641 643
646 52 342
648 55 646
650 219 649
652 56 152
654 57 651
656 653 655
658 54 621
660 53 69
662 54 660
664 153 663
666 56 659
668 57 665
670 667 669
672 58 657
674 59 671
676 673 675
678 116 677
680 54 117
682 679 681
684 52 343
686 52 54
688 55 684
690 687 689
692 55 56
694 57 691
696 693 695
698 53 68
700 53 699
702 54 701
704 57 702
706 667 705
708 58 697
710 59 707
712 709 711
714 116 713
716 56 117
718 715 717
720 56 693
722 14 52
724 54 722
726 56 724
728 58 721
730 59 726
732 729 731
734 116 733
736 58 117
738 735 737
740 63 175
742 64 174
744 65 741
746 743 745
748 17 60
750 60 749
752 62 751
754 16 61
756 63 754
758 233 757
760 64 752
762 65 759
764 761 763
766 66 747
768 67 765
770 767 769
772 118 771
774 60 119
776 773 775
778 60 342
780 63 778
782 233 781
784 64 168
786 65 783
788 785 787
790 62 753
792 61 69
794 62 792
796 169 795
798 64 791
800 65 797
802 799 801
804 66 789
806 67 803
808 805 807
810 118 809
812 62 119
814 811 813
816 60 343
818 60 62
820 63 816
822 819 821
824 63 64
826 65 823
828 825 827
830 61 68
832 61 831
834 62 833
836 65 834
838 799 837
840 66 829
842 67 839
844 841 843
846 118 845
848 64 119
850 847 849
852 64 825
854 16 60
856 62 854
858 64 856
860 66 853
862 67 858
864 861 863
866 118 865
868 66 119
870 867 869
872 122 422
874 112 872
876 138 554
878 114 876
880 154 686
882 116 880
884 170 818
886 118 884
888 875 879
890 883 887
892 888 890
894 128 190
896 112 894
898 144 204
900 114 898
902 160 218
904 116 902
906 176 232
908 118 906
910 897 901
912 905 909
914 910 912
916 69 915
918 68 914
920 917 919
922 69 893
924 892 921
926 923 925
928 192 422
930 29 928
932 206 554
934 31 932
936 220 686
938 33 936
940 234 818
942 35 940
944 930 935
946 931 934
948 945 947
950 930 934
952 939 949
954 938 948
956 953 955
958 938 949
960 950 959
962 951 958
964 961 963
966 950 958
968 943 957
970 942 956
972 969 971
974 942 957
976 967 973
978 966 972
980 977 979
982 966 973
984 975 983
986 965 984
988 964 985
990 987 989
992 965 985
994 991 993
996 993 995
998 69 343
1000 68 893
1002 996 1001
1004 917 999
1006 1002 1004
i0 enable_thread_0
i1 enable_thread_1
i2 enable_thread_2
i3 enable_thread_3
i4 signal_thread_0
i5 signal_thread_1
i6 signal_thread_2
i7 signal_thread_3
l0 interrupts_disabled
l1 thread_0_selected
l2 thread_1_selected
l3 thread_2_selected
l4 thread_3_selected
l5 thread_0_sleeping
l6 thread_1_sleeping
l7 thread_2_sleeping
l8 thread_3_sleeping
l9 thread_0_pc_0
l10 thread_0_pc_1
l11 thread_0_pc_2
l12 thread_0_pc_3
l13 thread_1_pc_0
l14 thread_1_pc_1
l15 thread_1_pc_2
l16 thread_1_pc_3
l17 thread_2_pc_0
l18 thread_2_pc_1
l19 thread_2_pc_2
l20 thread_2_pc_3
l21 thread_3_pc_0
l22 thread_3_pc_1
l23 thread_3_pc_2
l24 thread_3_pc_3
l25 semaphore_count_0
o0 bad_state_detector
c
--------------------------------------------------------------------------------
This circuit simulates a single processor that switches between 4 threads using
a simplistic scheduler. The scheduler is triggered by interrupts, which can be
disabled and enabled by the current thread. Additionally, a thread can enter a
sleeping state, which will prevent the scheduler from switching to that thread.
---
On top of these features, a semaphore is implemented, which ensures that at most
1 threads can be within the critical section simultaneously. When a thread wants
to acquire the semaphore after receiving a signal, it disables interrupts and
then compares the semaphore count to the limit. If possible, the thread changes
the semaphore count and continues after enabling interrupts again. If that is
not possible, the thread enters a sleeping state, enables interrupts, and yields
to the scheduler. Once a thread has acquired the semaphore, it remains in the
critical section until receiving another signal. Once that happens, it releases
the semaphore by first disabling interrupts, thus disabling the scheduler, then
checks if another thread is waiting for the semaphore. If that is the case, the
active thread wakes one of the waiting threads, then enables interrupts again,
allowing the scheduler to switch to the awakened thread at the next interrupt.
If no thread is waiting for the semaphore, the active thread changes the
semaphore count and enables interrupts again, resuming normal control flow, and
returns to its initial state (i.e., waits for another signal).
---
The output variable is set if any of the following is true, none of which can
happen:
* 2 or more threads are in the critical section simultaneously,
* an arithmetic overflow occurs when changing the semaphore count, or
* a thread is sleeping for no reason.
--------------------------------------------------------------------------------
This file is part of https://github.com/tniessen/aiger-safety-properties.
---
The output variable is UNSATISFIABLE.
